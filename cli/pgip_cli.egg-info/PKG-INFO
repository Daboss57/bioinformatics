Metadata-Version: 2.4
Name: pgip-cli
Version: 0.1.0
Summary: Command-line interface for the PanGenome Insight Platform
Author: PGIP Team
Requires-Python: >=3.11
Description-Content-Type: text/markdown
Requires-Dist: typer[all]>=0.12.4
Requires-Dist: httpx>=0.27.2
Requires-Dist: rich>=13.7.1
Requires-Dist: pydantic>=2.9.2

# PGIP CLI

Typer-based command-line interface for interacting with the PGIP backend. The initial commands cover plugin registry management and wrap the bundled Nextflow ingest pipeline; future iterations will add richer workflow orchestration and cohort operations.

## Setup

```powershell
python -m venv .venv
.\.venv\Scripts\activate
pip install -e .
```

Alternatively run in editable mode without a venv if you already have one active. The CLI expects the backend API to be reachable at `http://localhost:8000` by default; override with the environment variable `PGIP_BACKEND_URL`.

## Usage

```powershell
pgip plugins list
pgip plugins show frequency-aggregator
pgip plugins register path\to\manifest.json
pgip pipelines list
pgip pipelines run --backend-api http://127.0.0.1:8000
```

Add `--api-url` to any command to target a different backend. The `register` command validates manifests using the same schema as the FastAPI service, `pipelines list` queries recent dataset ingests, and `pipelines run` wraps `nextflow run workflows/nextflow/ingest_pangenome.nf` (pass `--nextflow-bin` to point at a custom executable).

## Roadmap

- `pgip workflows` – Monitor pipeline status and logs beyond the local run wrapper
- `pgip cohort` – Manage cohort metadata and summary statistics exports
- Auth integration for multi-user mode
